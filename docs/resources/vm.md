---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vstack_vm Resource - vstack"
subcategory: ""
description: |-
  
---

# vstack_vm (Resource)



## Example Usage

```terraform
# Manage VM instance
resource "vstack_vm" "example" {
  name          = "example"
  description   = "This is a test VM for demonstration purposes."
  cpus          = 4
  ram           = 4096
  cpu_priority  = 10
  boot_media    = 0
  vcpu_class    = 1
  os_type       = 6
  os_profile    = "4001"
  vdc_id        = 1234
  pool_selector = "12345678911234567891"

  action = "start"

  disks = [
    {
      size       = 40
      slot       = 1
      label      = "Primary Disk"
      iops_limit = 0
      mbps_limit = 0
    }
  ]

  guest = {
    hostname          = "example"
    ssh_password_auth = 1
    users = {
      root = {
        ssh_authorized_keys = [
          "ssh-rsa AAAAB3NzaC1..."
        ]
        password = "password"
      }
    }
    resolver = {
      name_server = ["8.8.8.8", "8.8.4.4", "1.1.1.1"]
      search      = "example.local"
    }

    boot_cmds = ["swapoff -a"]

    run_cmds = ["systemctl restart ntpd"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cpus` (Number) Number of CPUs assigned to the virtual machine.
- `disks` (Attributes List) List of disks attached to the virtual machine. (see [below for nested schema](#nestedatt--disks))
- `name` (String) Name of the virtual machine.
- `ram` (Number) Amount of RAM in Mega bytes for the virtual machine.
- `vdc_id` (Number) Virtual Data Center ID for the virtual machine.

### Optional

- `action` (String) Action to perform on the VM (e.g., 'start', 'stop').
- `boot_media` (Number) ID of the boot media.
- `cpu_priority` (Number) CPU priority of the virtual machine (1-20).
- `description` (String) Description of the virtual machine.
- `guest` (Attributes) Guest customization for the VM. (see [below for nested schema](#nestedatt--guest))
- `node` (Number) Node on which the VM is running.
- `os_profile` (String) Operating system profile for the virtual machine.
- `os_type` (Number) Operating system type for the virtual machine.
- `pool_selector` (String) The pool where the virtual machine resides.
- `vcpu_class` (Number) Class of the vCPU for the virtual machine.

### Read-Only

- `admin_status` (Number) Administrative status of the VM.
- `create_completed` (Number) Indicates if the VM creation is completed.
- `id` (Number) Unique identifier of the virtual machine.
- `locked` (Number) Indicates if the VM is locked.
- `oper_status` (Number) Operational status of the VM.
- `root_dataset` (String) Root dataset ID of the VM.
- `root_dataset_name` (String) Root dataset name of the VM.
- `status` (Number) Indicates the status of the VM.
- `uefi` (String) UEFI firmware path.

<a id="nestedatt--disks"></a>
### Nested Schema for `disks`

Required:

- `size` (Number) Size of the disk in Gigabytes.
- `slot` (Number) Slot number for the disk.

Optional:

- `iops_limit` (Number) IOPS limit for the disk.
- `label` (String) Label for the disk.
- `mbps_limit` (Number) Mbps limit for the disk.
- `sector_size` (Attributes) Sector size for the disk. (see [below for nested schema](#nestedatt--disks--sector_size))

Read-Only:

- `guid` (String) UUID Disk.

<a id="nestedatt--disks--sector_size"></a>
### Nested Schema for `disks.sector_size`

Optional:

- `logical` (Number) Logical sector size.
- `physical` (Number) Physical sector size.



<a id="nestedatt--guest"></a>
### Nested Schema for `guest`

Optional:

- `boot_cmds` (List of String) List of boot commands for the guest OS.
- `hostname` (String) Hostname for the guest OS.
- `resolver` (Attributes) DNS resolver settings for the guest OS. (see [below for nested schema](#nestedatt--guest--resolver))
- `run_cmds` (List of String) List of commands to run in the guest OS.
- `ssh_password_auth` (Number) Enables or disables SSH password authentication.
- `users` (Attributes Map) List of users in the guest OS. (see [below for nested schema](#nestedatt--guest--users))

Read-Only:

- `ram_balloon_performed` (Number) RAM used by the guest operating system in MB.
- `ram_balloon_requested` (Number) RAM used by the guest operating system in MB.
- `ram_used` (Number) RAM used by the guest operating system in MB.

<a id="nestedatt--guest--resolver"></a>
### Nested Schema for `guest.resolver`

Optional:

- `name_server` (List of String) DNS name servers.
- `search` (String) DNS search domain.


<a id="nestedatt--guest--users"></a>
### Nested Schema for `guest.users`

Optional:

- `password` (String) Password for the user.
- `ssh_authorized_keys` (List of String) SSH public keys.

## Import

Import is supported using the following syntax:

```shell
# VM can be imported by specifying the numeric identifier.
terraform import vstack_vm.example 1234
```
